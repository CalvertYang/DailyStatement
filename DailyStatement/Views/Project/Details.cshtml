@model DailyStatement.Models.Project

@{
    ViewBag.Title = "Details";
}
<div class="row">
    <div class="span12">
        <h4>專案預估</h4>
        @using (Html.BeginForm("DetailsEditedPredictions", "Project"))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(model => model.ProjectId)
            @Html.HiddenFor(model => model.ProjectNo)
            @Html.HiddenFor(model => model.RowVersion)
            @Html.HiddenFor(model => model.CustomerName)
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>工作類別</th>
                        <th>預計工時</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>

                    @{int i = 0;}
                    @foreach (var item in Model.Predictions)
                    {
                        <tr>
                            <td>@item.WorkCategory.Name</td>
                            <td>@item.PredictHours</td>
                            <td>@Html.TextBox("Predictions["+ @i +"].PredictHours", item.PredictHours)</td>
                            @Html.Hidden("Predictions["+ @i +"].WorkCategory.WorkCategoryId", item.WorkCategory.WorkCategoryId)
                            @Html.Hidden("Predictions["+ @i +"].PredictionId", item.PredictionId)
                            @Html.Hidden("Predictions["+ @i +"].WorkCategory.Name", item.WorkCategory.Name)
                        </tr>
                        i++;
                    }


                </tbody>
            </table>
            <input type="submit" value="create" />
                }
    </div>
    </div>

@section scripts{
    @Scripts.Render("~/bundles/knockout")
    <script>

    </script>
    }
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.ProjectId }) |
    @Html.ActionLink("Back to List", "Index")
</p>
